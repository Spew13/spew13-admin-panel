<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spew13 Admin Panel</title>
<style>
  body { margin:0; font-family:'Courier New', monospace; background:black; color:limegreen; }
  /* Admin overlay */
  #adminOverlay {
    position:fixed; top:0; left:0; width:100vw; height:100vh;
    background:rgba(0,0,0,0.95);
    color:limegreen;
    z-index:9999;
    display:flex;
    flex-direction:column;
  }
  #adminHeader {
    padding:20px;
    font-size:28px;
    font-weight:bold;
    text-align:center;
    text-shadow:0 0 5px limegreen,0 0 10px limegreen;
    border-bottom:2px solid limegreen;
  }
  #adminTabs {
    display:flex;
    justify-content:center;
    border-bottom:1px solid limegreen;
  }
      /* Container for iframe */
.iframe-wrapper {
  width: 90%;          /* Adjust width as needed */
  height: 80vh;        /* Height relative to viewport */
  margin: 2rem auto;   /* Center container vertically */
  border-radius: 12px; /* Rounded corners */
  overflow: hidden;    /* Hide scrollbars of container */
  box-shadow: 0 4px 20px rgba(0,0,0,0.5); /* Subtle shadow */
}

/* Iframe itself */
.iframe-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;        /* Remove default iframe border */
}

  .tabBtn {
    background:black;
    border:none;
    color:limegreen;
    padding:10px 20px;
    cursor:pointer;
    font-size:16px;
  }
  .tabBtn.active { background:limegreen; color:black; transition:0.3s; }
  #adminContent { flex:1; padding:20px; overflow:auto; }
  input, textarea { width:80%; padding:10px; margin:10px 0; background:black; border:1px solid limegreen; color:limegreen; font-family:'Courier New'; font-size:16px; }
  button { padding:10px 20px; margin:5px; background:black; border:2px solid limegreen; color:limegreen; cursor:pointer; font-size:16px; }
  button:hover { background:limegreen; color:black; transition:0.3s; }
  #announcementPreview { margin-top:20px; font-size:22px; text-shadow:0 0 5px limegreen,0 0 10px limegreen; }
</style>
</head>
<body>
      <!-- LOGIN OVERLAY (animated, neon bold style) -->
<div id="loginOverlay" style="
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  background:radial-gradient(circle at center, rgba(0,0,0,0.95), rgba(0,0,0,0.99));
  z-index:10000; display:flex; align-items:center; justify-content:center; 
  color:limegreen; font-family:'Courier New', monospace;
  animation:fadeInOverlay 0.8s ease forwards;
">
  <div id="loginBox" style="
    width:440px; padding:28px; border:3px solid limegreen; border-radius:12px;
    background:rgba(0,0,0,0.85); text-align:center;
    box-shadow:0 0 20px limegreen,0 0 60px rgba(0,255,0,0.3);
    animation:glowPulse 1.5s infinite alternate;
  ">
    <h2 style="margin:0 0 14px; font-size:26px; text-shadow:0 0 8px limegreen,0 0 14px limegreen;">Spew13 Admin Login</h2>

    <input id="emailInput" type="text" placeholder="Enter your Email"
      style="padding:12px; width:92%; background:black; border:2px solid limegreen; border-radius:6px; 
             color:limegreen; font-size:16px; margin:12px 0; outline:none; transition:0.3s;">
    <input id="passwordInput" type="password" placeholder="Enter password"
      style="padding:12px; width:92%; background:black; border:2px solid limegreen; border-radius:6px; 
             color:limegreen; font-size:16px; margin:8px 0; outline:none; transition:0.3s;">

    <div style="display:flex; gap:12px; justify-content:center; margin-top:20px;">
      <button id="loginBtn" class="neonBtn">Login</button>
    </div>

    <p id="loginMessage" style="height:22px; margin:14px 0 0; font-size:14px;"></p>

    <!-- Generated password reveal box -->
    <div id="generatedBox" style="display:none; margin-top:14px; padding:12px; border:2px dashed limegreen; border-radius:6px;">
      <div style="font-size:14px; margin-bottom:6px; color:#bfffb0;">Generated password:</div>
      <div style="display:flex; align-items:center; justify-content:center; gap:10px;">
        <code id="generatedPass" style="padding:6px 12px; background:black; border-radius:4px; border:1px solid rgba(0,255,0,0.2); color:limegreen;"></code>
        <button id="copyPass" class="neonBtnSmall">Copy</button>
      </div>
      <div style="font-size:11px; margin-top:8px; color:#ffb0b0;">Keep this private!</div>
    </div>
  </div>
</div>

<style>
/* BUTTON NEON EFFECTS */
.neonBtn, .neonBtnSmall {
  padding:10px 18px; background:black; border:2px solid limegreen; color:limegreen; cursor:pointer;
  font-size:14px; border-radius:6px; font-family:'Courier New', monospace;
  box-shadow:0 0 8px limegreen,0 0 16px rgba(0,255,0,0.3);
  transition: all 0.3s ease;
}
.neonBtn:hover, .neonBtnSmall:hover {
  background:limegreen; color:black;
  box-shadow:0 0 20px limegreen,0 0 40px rgba(0,255,0,0.6);
  transform:scale(1.08);
}

/* INPUT HOVER & FOCUS GLOW */
#emailInput:focus, #passwordInput:focus {
  box-shadow:0 0 12px limegreen,0 0 24px rgba(0,255,0,0.4);
  border-color:limegreen;
}

/* PULSE GLOW ANIMATION */
@keyframes glowPulse {
  0% { box-shadow:0 0 20px limegreen,0 0 60px rgba(0,255,0,0.3); }
  100% { box-shadow:0 0 35px limegreen,0 0 100px rgba(0,255,0,0.5); }
}

/* OVERLAY FADE IN */
@keyframes fadeInOverlay {
  0% {opacity:0;}
  100% {opacity:1;}
}

/* SHAKE ANIMATION FOR DENIED */
@keyframes shake {
  0%,100%{transform:translateX(0);}
  20%,60%{transform:translateX(-8px);}
  40%,80%{transform:translateX(8px);}
}
.shake {
  animation:shake 0.5s;
  color:#ff4c4c !important;
  text-shadow:0 0 6px red,0 0 12px red !important;
}
</style>

<script>
      
</script>



<div id="adminOverlay">
  <div id="adminHeader">Spew13 Admin Panel</div>
  <div id="adminTabs">
    <button class="tabBtn active" onclick="showTab('announcements')">Announcements</button>
    <button class="tabBtn" onclick="showTab('games')">Games</button>
    <button class="tabBtn" onclick="showTab('users')">Early access download!</button>
    <button class="tabBtn" onclick="showTab('settings')">Settings</button>
  </div>
  <div id="adminContent">
    <!-- Announcements Tab -->
    <div id="tab-announcements">
      <div style="
  margin-top: 14px;
  display: flex;
  justify-content: center;
  align-items: center;
">
  <iframe 
    src="https://spew13.github.io/spew13-admin-panel-test/" 
    style="
      width: 95%;
      height: 400px;
      border: 2px solid limegreen;
      border-radius: 12px;
      box-shadow: 0 0 18px limegreen, 0 0 5px #0f0 inset;
      background: rgba(0,0,0,0.8);
      color: limegreen;
    " 
    title="Spew13 Admin Announcements">
  </iframe>
</div>
      <div id="announcementPreview"></div>
    </div>

    <!-- Games Tab -->
    <div id="tab-games" style="display:none;">
      <h3>Game Controls</h3>
      <button onclick="loadGame('https://spew13.github.io/')">Load Spew13...</button>
      <button onclick="disableGame()">Disable...</button>
    </div>

    <!-- Users Tab -->
    <div id="tab-users" style="display:none;">
      <h3>Early Acccess Viewer...</h3>
      <p>Check out the new Halloween Update (Coming by the 15th this month)! No sharing this update! (To others at least.)</p>
          <!-- Iframe container -->
<div class="iframe-wrapper">
  <iframe src="https://spew13.github.io/spew13-early-access-download/"></iframe>
</div>
    </div>
        
    <!-- Settings Tab -->
    <div id="tab-settings" style="display:none;">
      <h3>Site Settings</h3>
      <button onclick="toggleFeature()">Coming soon to an admin-abuse near you.</button>
    </div>
  </div>
</div>

<!-- Announcement Popup -->
<div id="announcementPopup" style="
  display:none; 
  position:fixed; 
  top:50%; 
  left:50%; 
  transform:translate(-50%, -50%);
  color:limegreen; 
  font-size:35px; 
  text-align:center; 
  text-shadow:0 0 5px limegreen,0 0 10px limegreen,0 0 20px limegreen;
  z-index:1000;
  padding:20px;
  background-color:rgba(0,0,0,0.8);
  border:2px solid limegreen;
  border-radius:10px;
"></div>

<script>
const binId = "68e12ed2ae596e708f05e933";
const popup = document.getElementById('announcementPopup');
const adminMessage = document.getElementById('adminMessage');
const announcementPreview = document.getElementById('announcementPreview');

// Tab switching
function showTab(tab){
  const tabs = ['announcements','games','users','settings'];
  tabs.forEach(t => document.getElementById('tab-'+t).style.display = (t===tab?'block':'none'));
  document.querySelectorAll('.tabBtn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
}

// Load announcements from JSONBin
async function loadAnnouncements(){
  try{
    const res = await fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`);
    const data = await res.json();
    const messages = data.record;
    if(messages.length > 0){
      popup.innerHTML = messages.map(m => `<p>${m.text}</p>`).join('');
      popup.style.display = 'block';
      announcementPreview.innerHTML = messages.map(m => `<p>${m.text}</p>`).join('');
      setTimeout(()=>{popup.style.display='none';},8000);
    }
  } catch(err){ console.error(err);}
}
loadAnnouncements();
setInterval(loadAnnouncements,15000);

// Send announcement
async function sendAnnouncement(){
  const text = document.getElementById('announcementInput').value.trim();
  if(!text) return;
  try{
    const res = await fetch(`https://api.jsonbin.io/v3/b/${binId}/latest`);
    const data = await res.json();
    const messages = data.record || [];
    messages.push({text:text});
    await fetch(`https://api.jsonbin.io/v3/b/${binId}`,{
      method:'PUT',
      headers:{
        'Content-Type':'application/json',
        'X-Master-Key':'YOUR_JSONBIN_API_KEY' // replace if private bin
      },
      body: JSON.stringify(messages)
    });
    adminMessage.textContent = "Announcement sent!";
    document.getElementById('announcementInput').value="";
    loadAnnouncements();
  } catch(err){
    console.error(err);
    adminMessage.textContent = "Failed to send.";
  }
}

// Example game/load functions
function loadGame(url){
  document.body.innerHTML += `<iframe src="${url}" style="position:fixed; top:0; left:0; width:100vw; height:100vh; border:none; z-index:1000;"></iframe>`;
}
function disableGame(){ alert("Game disabled!"); }
function toggleFeature(){ alert("Feature toggled!"); }

</script>
</body>
</html>
